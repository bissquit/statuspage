# API Documentation

Документация REST API сервиса StatusPage.

## Содержание

1. [Аутентификация](01-auth.md) - регистрация, логин, refresh токенов
2. [Каталог сервисов](02-catalog.md) - управление сервисами и группами
3. [События](03-events.md) - инциденты и плановые работы
4. [Шаблоны событий](04-templates.md) - управление шаблонами
5. [Уведомления](05-notifications.md) - каналы и подписки
6. [Публичный статус](06-public-status.md) - публичные эндпоинты (без авторизации)

## Базовый URL

```
http://localhost:8080/api/v1
```

## Аутентификация

Для защищённых эндпоинтов требуется JWT токен в заголовке:

```
Authorization: Bearer <access_token>
```

## Форматы ответов

### Успешный ответ
```json
{
  "data": { ... }
}
```

### Ошибка
```json
{
  "error": "error message"
}
```

### Ошибка валидации
```json
{
  "error": "validation failed",
  "details": "field validation errors"
}
```

## HTTP коды ответов

- `200 OK` - успешный запрос
- `201 Created` - ресурс создан
- `204 No Content` - успешное удаление
- `400 Bad Request` - некорректный запрос
- `401 Unauthorized` - требуется аутентификация
- `403 Forbidden` - недостаточно прав
- `404 Not Found` - ресурс не найден
- `409 Conflict` - конфликт (например, email уже существует)
- `500 Internal Server Error` - ошибка сервера

## Роли и права доступа

| Роль | Описание | Возможности |
|------|----------|-------------|
| `user` | Обычный пользователь | Просмотр статусов, управление подписками |
| `operator` | Оператор | + управление инцидентами |
| `admin` | Администратор | + управление сервисами, группами, шаблонами |

## Тестовые пользователи

По умолчанию в системе созданы тестовые пользователи:

| Email | Password | Role | Описание |
|-------|----------|------|----------|
| admin@example.com | admin123 | admin | Полный доступ ко всем функциям |
| operator@example.com | admin123 | operator | Управление инцидентами и событиями |
| user@example.com | user123 | user | Базовый пользователь |

**⚠️ ВАЖНО:** Эти учётные записи предназначены только для разработки и тестирования. В production необходимо удалить или сменить пароли!
